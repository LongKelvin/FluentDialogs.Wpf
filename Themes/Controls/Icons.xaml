<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:FluentDialogs.Controls"
                    xmlns:enums="clr-namespace:FluentDialogs.Enums">

    <!--
        ═══════════════════════════════════════════════════════════════
        ICON PRESENTER STYLE — FluentDialogs.Wpf v2.0
        ═══════════════════════════════════════════════════════════════
        
        Modern Windows 11 Fluent Design icons.
        Each icon is a DrawingGroup: filled circle bg + white vector symbol.
        Colors are baked into the DrawingGroup by IconPresenter.cs so they
        remain correct regardless of theme. The old single-Path + color-
        trigger approach is removed.
    -->

    <Style TargetType="{x:Type controls:IconPresenter}">
        <Setter Property="Width" Value="{DynamicResource FDSizeIconPresenterDefault}"/>
        <Setter Property="Height" Value="{DynamicResource FDSizeIconPresenterDefault}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:IconPresenter}">
                    <Viewbox Width="{TemplateBinding Width}" 
                             Height="{TemplateBinding Height}"
                             Stretch="Uniform">
                        <!--
                            DrawingPresenter renders the composite DrawingGroup
                            produced by IconPresenter.cs (circle + white glyph).
                            Falls back to legacy single-Path mode when IconContent
                            is set directly (custom geometry override).
                        -->
                        <Grid Width="32" Height="32">
                            <!-- Modern composite icon (circle + white symbol) -->
                            <Image x:Name="DrawingHost"
                                   Stretch="Uniform">
                                <Image.Source>
                                    <DrawingImage Drawing="{Binding IconDrawing, RelativeSource={RelativeSource TemplatedParent}}"/>
                                </Image.Source>
                            </Image>
                            <!-- Legacy fallback: single-path custom geometry -->
                            <Path x:Name="LegacyPath"
                                  Data="{TemplateBinding IconContent}"
                                  Fill="{DynamicResource FDBrushStatusInfo}"
                                  StrokeThickness="0"
                                  Stretch="Uniform"
                                  Visibility="Collapsed"/>
                        </Grid>
                    </Viewbox>
                    <ControlTemplate.Triggers>
                        <!--
                            When a custom IconContent geometry is supplied,
                            show the legacy Path and hide the DrawingImage.
                        -->
                        <Trigger Property="IconContent" Value="{x:Null}">
                            <Setter TargetName="DrawingHost" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="LegacyPath" Property="Visibility" Value="Collapsed"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ═══════════════ v1 Backward-Compatible Brush Aliases ═══════════════ -->
    <SolidColorBrush x:Key="InfoIconBrush"
                     Color="{DynamicResource FDSemStatusInfo}"/>
    <SolidColorBrush x:Key="WarningIconBrush"
                     Color="{DynamicResource FDSemStatusWarning}"/>
    <SolidColorBrush x:Key="ErrorIconBrush"
                     Color="{DynamicResource FDSemStatusError}"/>
    <SolidColorBrush x:Key="SuccessIconBrush"
                     Color="{DynamicResource FDSemStatusSuccess}"/>
    <SolidColorBrush x:Key="QuestionIconBrush"
                     Color="{DynamicResource FDSemInteractiveDefault}"/>

</ResourceDictionary>
