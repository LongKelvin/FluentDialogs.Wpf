<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!--
        ═══════════════════════════════════════════════════════════════
        PROGRESS STYLES — FluentDialogs.Wpf v2.0
        ═══════════════════════════════════════════════════════════════
        
        Styles for the progress dialog: progress bar, message text,
        percentage display, cancel button.
        
        Fixes CRITICAL v1 bug: ProgressWindow.xaml referenced non-existent
        keys (DialogBackground vs DialogBackgroundBrush). All keys below
        are correct FDBrush* tokens.
    -->

    <!-- ═══════ Progress Bar Style ═══════ -->
    <Style x:Key="FDProgressBarStyle" TargetType="{x:Type ProgressBar}">
        <Setter Property="Height" Value="{DynamicResource FDSizeProgressBarHeight}"/>
        <Setter Property="Background" Value="{DynamicResource FDBrushSurfaceSecondary}"/>
        <Setter Property="Foreground" Value="{DynamicResource FDBrushInteractiveDefault}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ProgressBar}">
                    <Grid x:Name="TemplateRoot" SnapsToDevicePixels="True">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="{DynamicResource FDRadiusSm}"/>
                        <Border x:Name="PART_Track"/>
                        <Border x:Name="PART_Indicator"
                                Background="{TemplateBinding Foreground}"
                                CornerRadius="{DynamicResource FDRadiusSm}"
                                HorizontalAlignment="Left"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsIndeterminate" Value="True">
                            <Setter TargetName="PART_Indicator" Property="HorizontalAlignment" Value="Stretch"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ═══════ Progress Message Text ═══════ -->
    <Style x:Key="FDProgressMessageStyle" TargetType="{x:Type TextBlock}">
        <Setter Property="Foreground" Value="{DynamicResource FDBrushOnSurfacePrimary}"/>
        <Setter Property="FontSize" Value="{DynamicResource FDTypeSizeMd}"/>
        <Setter Property="FontFamily" Value="{DynamicResource FDTypeFontFamily}"/>
        <Setter Property="TextWrapping" Value="Wrap"/>
    </Style>

    <!-- ═══════ Progress Percentage Text ═══════ -->
    <Style x:Key="FDProgressPercentageStyle" TargetType="{x:Type TextBlock}">
        <Setter Property="Foreground" Value="{DynamicResource FDBrushOnSurfaceSecondary}"/>
        <Setter Property="FontSize" Value="{DynamicResource FDTypeSizeSm}"/>
        <Setter Property="FontFamily" Value="{DynamicResource FDTypeFontFamily}"/>
        <Setter Property="HorizontalAlignment" Value="Center"/>
    </Style>

    <!-- ═══════════════ v1 Backward-Compatible Brush Aliases ═══════════════ -->
    <!--  ProgressWindow.xaml in v1 used these non-existent keys — map them to correct tokens.  -->
    <SolidColorBrush x:Key="ProgressBarBackground"
                     Color="{DynamicResource FDSemSurfaceSecondary}"/>
    <SolidColorBrush x:Key="PrimaryButtonBackground"
                     Color="{DynamicResource FDSemInteractiveDefault}"/>

</ResourceDictionary>
